<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	  <head>
	    <title>Montage User Documentation</title>
	    <!--#include virtual="include/header.html"-->
<div id="wrapper">
<h1>mDiffExec</h1>

<div id="usage">
<a name="usage"></a>

<dl class="description">
  <dt>Description:</dt>
  <dd>Runs <span class="file">mDiff</span> on all the pairs identified by <span class="file">mOverlaps.</span></dd>
</dl>

<dl class="syntax">
  <dt>Syntax:</dt>
  <dd>mDiffExec [-p <i>projdir</i>] [-d] [-n(o-areas)] [-s <i>statusfile</i>] <b>diffs.tbl template.hdr diffdir</b></dd>
</dl>

<p class="dochead">Switches:</p>
<dl class="args">
  <dt>-p <i>projdir</i></dt>
  <dd>Specifies path to the directory containing reprojected input images.</dd>
  <dt>-d</dt>
  <dd>Turns on debugging.</dd>
  <dt>-n</dt>
  <dd>No-area-images flag. Creates difference image without requiring <span class="file">_area</span> FITS images</dd>
  <dt>-s <i>statusfile</i></dt>
  <dd>Output and errors are sent to <i>statusfile</i> instead of to stdout</dd>
</dl>

<p class="dochead">Arguments:</p>
<dl class="args">
  <dt>diffs.tbl</dt>
  <dd>Table generated by <span class="file">mOverlaps for the images in <span class="file">projdir</span>.</dd>
  <dt>template.hdr</dt>
  <dd>FITS header template for output files.</dd>
  <dt>diffdir</dt>
  <dd>Path to output files.</dd>
</dl>

<dl class="description">
<dt>Results:</dt>
<dd>FITS images representing the differences for each pair of overlapping images.  <i>nimages</i> is the total number of images succesfully processed, and <i>nfailed</i> is the number of images that failed.  The most likely cause of failure is that the FITS images overlapped, but only in areas where they contained blank pixels (especially common in images with large degree of rotation). </dd>
</dl>

<p class="dochead">Examples:</p>

<p>First, <a href="examples/mDiffExec/diffs.tbl">diffs.tbl</a> is generated using mOverlaps.  Then mDiff can be run on reprojected images, using this <a href="examples/mDiffExec/template.hdr">template.hdr</a>.</p>

<dl class="example">
  <dt>$ mDiffExec -n -p projdir projdir/diffs.tbl template.hdr diffdir</dt>
  <dd>[struct stat="OK", count=42, failed=0]</dd>
</dl>

<p class="dochead">Return Codes:</p>
<ul class="returncodes">
  <li>[struct stat="OK", count=<i>nimages</i>, failed=<i>nfailed</i>]</li>   
  <li>[struct stat="ERROR", msg="Usage: mDiffExec [-p projdir] [-d] [-n(o-areas)] [-s statusfile] diffs.tbl template.hdr diffdir"]</li>   
  <li>[struct stat="ERROR", msg="MPI initialization failed"]</li>
  <li>[struct stat="ERROR", msg="Cannot open status file: <i>statusfile</i>"]</li>   
  <li>[struct stat="ERROR", msg="Cannot access <i>diffdir</i>"]</li>   
  <li>[struct stat="ERROR", msg="<i>diffdir</i> is not a directory"]</li>   
  <li>[struct stat="ERROR", msg="Invalid image metadata file: <i>filename</i>"]</li>   
  <li>[struct stat="ERROR", msg="Need columns: cntr1 cntr2 plus minus diff"] <span class="explanation">(columns missing from differences table)</span></li>   
  <li>[struct stat="ERROR", msg="<i>mDiff error</i>"]</li>   
</ul>


</div></div>
<!--#include virtual="include/footer.html"-->
