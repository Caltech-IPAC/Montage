<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<title>Montage User Documentation</title>

<!--#include virtual="include/header.html"-->

<h1>Science Use Cases</h1>


<p>These four use cases have been chosen to illustrate the flexibility inherent in the design of  Montage:</p>
<ul>
  <li><a href="#case1">Science Analysis</a></li>
  <li><a href="#case2">Observation Planning</a></li>
  <li><a href="#case3">Science Product Generation</a></li>
  <li><a href="#case4">Outreach</a></li>
</ul>

<p>&nbsp;</p>

<a name="case1"><h2>Use Case I - Science Analysis</h2></a>

<p>The SIRTF First Look ancillary VLA image is a 2x2 degree radio image of a field that will be observed by SIRTF. As a field uncluttered by galactic radiation in SIRTF’s continuous viewing zone, it is a prime candidate for deep imaging of extragalactic sources. The VLA image contains a large number of radio <i>blobs,</i> many of which appear to be interesting and perhaps bizarre objects.  Interpretation of these objects requires multi-wavelength measurements on a common projection and spatial scale. DPOSS, SDSS and 2MASS provide the broad wavelength base for analysis of these objects, yet analysis is tedious and error prone because the images delivered by these projects have different spatial resolutions, coordinates and projections. MONTAGE will eliminate these difficulties by delivering mosaics from these data sets at a common resolution, projection and in a common coordinate system.</p>

<p>This is a basic small region mosaic problem and can be run on a single workstation or collection of workstations.  Since the comparison will be with the VLA image, the mosaic should be constructed using the same projection and scale.   The processing steps could in fact be run manually and would be as follows:</p>

<ul>
  <li>Extract FITS header from VLA image
  <li>Identify 2MASS (or whatever) images for the region and collect the images if running this in the standalone (i.e. non-GRID) mode.  There are IRSA web services to do this in the case of the 2MASS images and we expect similar services to be available for the other datasets at some future date.
  <li>Using the FITS header, reproject each of the input images to the new system using mProject for each one individually or mProjExec to process them all in a loop (based on a summary list prepared by mImgtbl).   This step takes by far the majority of the time.
  <li>Since this is a small region, the user will probably opt to have a custom background correction fit made.  The first step in this is to determine exactly which image overlap, using mOverlaps acting on a summary metadata table for the reprojected images (again prepared by mImgtbl).
  <li>mDiff is then used to actually generate the difference images for the overlapping pairs identified in the last step.  This is usually run in a loop by mDiffExec using the table output by mOverlaps.
  <li>mFitplane characterizes each difference image by a least-squares fit plane (excluding flux outlier pixels).  This is usually run in a loop using mFitExec, which works off the table prepared by mOverlaps.  The results go into a table used in the next step.
  <li>mBgModel iteratively fits the table generated by mFitplane/mFitExec and determines the <i>best</i> background to remove from each of the original reprojected images.
  <li>The final step in the background correction process is to apply the corrections to the images. This is done using mBackground on each image (usually by way of mBgExec looping over the table generated by mBgModel).
  <li>These corrected/reprojected images can now be coadded into the final mosaic using mAdd (again using a summary metadata table for the corrected images prepared by mImgtbl).
</ul>

<p>&nbsp;</p>

<a name="case2"><h2>Use Case II - Observation Planning</h2></a>

<p>The Multiband Imaging Photometer (MIPS) aboard the Space Infra Red Telescope Facility (<a href="http://sirtf.caltech.edu/technology/mips.shtml">http://sirtf.caltech.edu/technology/mips.shtml</a>) has a scan length of 0.5°. Observations with MIPS must avoid bright sources that will saturate the detector, and is normally done by identifying infrared sources on 2MASS images. This is at present difficult to do because the 2MASS images are 512 x 1024 arcsec on a side and the effects of background variation from image to image complicate identification of sources in a consistent way.  Mosaics of 2MASS images that have a flat background (not necessarily science grade) will make the task of identifying bright sources much easier to perform.</p>

<p>Here the need is for a global mosaic of the entire 2MASS dataset.  While the scenario in Use Case I still applies, the processing is operationally quite different.  Here, the entire 2MASS dataset should be reprojected into a regular pattern of large image outlines covering the sky, on the order of 5-10 degrees in scale.  The overlap analysis and background fitting should be done once globally (or in a hierarchical local/global way) and the correction parameters for all 2MASS images stored in a permanent public database.</p>

<p>Since this would be done using GRID resources, the parallelization inherent in the architecture can be exploited to the maximum.  Rather than use mProjExec, all the re-projection jobs can be added to a pool of tasks and performed by as many processors as are available.  The same is true of the other <i>list driven</i> processes above (mDiffExec, mFitExec, mBgExec).  The precise methodology to be used is TBD but will be built using standard GRID programming toolkits (Globus, Condor, DAGMAN, etc). The Users Guide delivered with the Montage software will give full details on how users can apply these grid resources.</p>

<p>Requests for mosaics of a specific location could then be satisfied by simply background subtracting (mBackground) and co-adding (mAdd) the already reprojected images (which would be kept permanently).  There would also probably be standard <i>products</i>; images on the plate scale defined above covering the whole sky.</p>

<p>If a custom projection was desired, the original images would probably be used (to avoid losses due to repeated projection), re-projecting (mProject) them as desired but using the <i>standard</i> background correction parameters from the database instead of the background modeling described above.</p>

<p>&nbsp;</p>

<a name="case3"><h2>Use Case III - Science Product Generation</h2></a>

<p>The Galactic Legacy Infrared Midplane Survey Extraordinaire (GLIMPSE) will use the Space Infra Red Telescope Facility (SIRTF) Infra Red Array Camera (IRAC) (<a href="http://sirtf.caltech.edu/technology/irac.shtml">http://sirtf.caltech.edu/technology/irac.shtml</a>) to survey approximately 220 square degrees of the Galactic plane, covering a latitude range of ± 1&deg;, and a longitude range of abs(l)=10-65&deg;. GLIMPSE will be a confusion-limited survey of the Galactic Plane in the four IRAC bands.  The survey will produce several hundred GB of data in the form of catalogs and images, which will be delivered to the SIRTF Science Center for dissemination to the entire astronomical community.  The GLIMPSE project requires a mosaic engine that is portable, uses only standard astronomy packages, is highly scalable and is easy to fine-tune. These are the goals of Montage, which is therefore a serious candidate for GLIMPSE processing.</p>

<p>In this case, the input data set is not one of the data sets being used for Montage development and testing and the processing will be run on a custom cluster of processing engines (using home-grown pipeline executive code).  The Montage modules are meant to be flexible enough to accommodate any FITS image, so the same paradigm as described in Use Case I should work.  Here, however, the user would probably opt for writing their own executive logic rather than using the mProjExec, mDiffExec, mFitExec, and mBgExec modules (which are simple constructs in any case) and manage parallelization themselves (or using off-the-shelf tools such as Condor).  Only the executive logic needs customization: the processing modules will be used as delivered.  The Montage User’s Guide will give a complete description of how users can build their own executives.</p>

<p>&nbsp;</p>

<a name="case4"><h2>Use Case IV - Outreach</h2></a>

<p>Large-scale image mosaics are useful in promoting general interest in infrared astronomy through their use in local image galleries as well as the development of posters, pamphlets, and other media for both the general public and educators. Mosaics showing data at multiple wavelengths on a common projection, spatial scales, etc., exert a powerful influence on the imagination, especially when made part of a larger permanent display at a museum or planetarium. Access to Montage will allow production of large scale images from multiple data sets that would otherwise be very labor-intensive to accomplish.</p>

<p>Since such images will need to be on a common scale, much the same processing should be used as in Use Case I.  Not all of these images will be mosaics, however.  Some will be simple re-projections of existing images to put them all on the same scale.  This can be done by running them individually through mProject.</p>





<!--#include virtual="include/footer.html"-->
